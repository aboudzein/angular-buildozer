<app-sidebar [right]="true" [resizable]="false">
    <section class="d-flex flex-column position-relative" sidebar-container>
        <nav class="d-flex py-2 px-3">
            <button mat-flat-button color="accent" class="toolbar-button" (click)="closeDialog()">
                <mat-icon>close</mat-icon>
            </button>
            <button mat-flat-button color="accent" class="toolbar-button ml-auto" fullscreen>
                <mat-icon>fullscreen</mat-icon>
            </button>
        </nav>
        <div class="d-flex align-items-center h-100 justify-content-center">
            <!-- TODO: set the background image of this -->
            <div class="blur-area"></div>
            <object *ngIf="show" [attr.data]="(dialogData.file.fullPath) | safe:'resourceUrl'"></object>
        </div>
        <footer class="d-flex align-items-center overflow-auto">
            <img (click)="selectFile(file)" class="mr-1" *ngFor="let file of ($files | async)" [src]="file.fullPath"
                alt="">
        </footer>
    </section>
    <aside sidebar-drawer>
        <mat-nav-list class="h-100" dense>
            <h3 mat-subheader class="text-truncate"> {{dialogData.file.name}} </h3>
            <mat-list-item (click)="openFolder(folder)" *ngFor="let folder of ($folders | async)">
                <mat-icon mat-list-icon text-muted> folder </mat-icon>
                <h4 mat-line class=""> {{folder.name}}</h4>
            </mat-list-item>
        </mat-nav-list>
        <mat-chip-list class="px-2">
            <mat-chip *ngFor="let tag of ($tags | async)" [style.background-color]="tag.color"
                (click)="filterByTag(tag)" class="pointer" selected>
            </mat-chip>
        </mat-chip-list>
    </aside>
</app-sidebar>
